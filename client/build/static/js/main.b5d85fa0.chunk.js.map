{"version":3,"sources":["actions/types.js","actions/index.js","components/maps/Search.js","components/maps/Sidebar.js","components/maps/empty_heart.png","components/maps/Mapbox.js","components/maps/heart.png","components/nav/logo_transparent.png","components/auth/LoginModal.js","components/auth/RegisterModal.js","components/nav/Navbar.js","components/cityDetail/TemChart.js","components/cityDetail/TempWeekList.js","components/cityDetail/VisitedModal.js","components/cityDetail/PlanningModal.js","components/cityDetail/City.js","components/memories/Memory.js","components/cityGallery/bg-hero.jpeg","components/cityGallery/Intro.js","components/cityGallery/GalleryImages.js","components/cityGallery/Gallery.js","components/App.js","reducers/authReducer.js","reducers/mapReducer.js","reducers/cityDetailReducer.js","reducers/favoriteReducer.js","reducers/index.js","reportWebVitals.js","index.js"],"names":["FETCH_USER","FETCH_CITIES","CITY_INIT","OPEN_REGISTER","CLOSE_REGISTER","OPEN_LOGIN","CLOSE_LOGIN","SUCCESSFUL_LOGIN","FAIL_LOGIN","FAIL_REGISTER","FETCH_CITY","FETCH_7DAYS_WEATHER","SUBMIT_VISITED_FORM","CITY_REDIRECT","FETCH_FARVORITE_CITIES","ADDED_FAVORITE_CITY","DELETED_FAVORITE_CITY","fetchUser","dispatch","a","axios","get","res","type","payload","data","login","username","password","post","user","register","firstName","lastName","email","confirmation","openRegisterModal","closeRegisterModal","openLoginModal","closeLoginModal","switchModalAction","currentModal","fetchTop10Cities","fetchCities","query","fetchCity","id","fetch7DayForcast","submitVisitedForm","fromDate","toDate","travellersNum","cost","summary","rating","image","cityId","cityFormRedirect","fetchFavoriteCities","console","log","addFavoriteCity","success","deleteFavoriteCity","index","Search","props","state","onChangeHandler","bind","formSubmitHandler","clickHandler","event","this","setState","target","value","preventDefault","openSideBar","closeSideBar","onSubmit","className","onChange","onClick","name","placeholder","aria-label","required","React","Component","connect","Sidebar","xPosition","width","toggleMenu","letSideBarClose","isSideBarClosed","letSideBarOpen","isSideBarOpened","Fragment","style","transform","minHeight","height","children","mapboxgl","workerClass","require","default","accessToken","Mapbox","contentContainerWidth","searched","generateMarker","divGenerator","mapLookup","mapDragTo","favoriteSubmit","map","markers","markersForFavorite","mapContainer","createRef","contentContainer","longitude","latitude","color","isFavorite","check","marker","Marker","scale","setLngLat","addTo","push","long","lat","flyTo","center","Number","zoom","coord","forEach","remove","favoriteCities","filter","favoriteCity","i","_id","length","Map","container","current","doubleClickZoom","nav","NavigationControl","addControl","offsetWidth","city","favorite","to","ref","src","alt","empty_heart","country","population","loc","coordinates","uuidv4","cities","removeAllPreviousMarkers","LoginModal","handleClose","handleFormSubmit","handleChange","switchModal","isSuccessed","message","messageError","role","data-dismiss","aria-hidden","Modal","show","isModalOpen","onHide","backdrop","keyboard","Header","closeButton","Title","logo","Body","auth","messageLogin","is_login_modal","RegisterModal","messagePW","messageEmail","regexPW","regexEmail","test","icon","faUser","faUserPlus","minLength","faKey","faEnvelope","messageRegister","is_register_modal","Navbar","openModal","modal","href","TemChart","chartRef","myChart","Chart","labels","temps7Days","days","datasets","tempsDay","label","borderColor","backgroundColor","fill","tempsNight","options","responsive","legend","position","fontColor","boxWidth","padding","TempWeekList","tempList","days_letters","day","status","icons","weathers","Math","round","VisitedModal","Date","handleShow","stateCopy","cityFormSuccess","memory_id","Button","variant","faImages","htmlFor","min","rows","PlanningModal","budget","preferences","faRoute","class","from","City","match","params","imageUrl","dangerouslySetInnerHTML","__html","backgroundImage","currentDate","weekday","month_letters","year","data-feather","currentWeather","main","temp","weather","humidity","wind","speed","weatherMessage","Memory","useStyles","makeStyles","theme","hero","backgroundSize","bgHero","title","fontWeight","textField","marginLeft","spacing","marginRight","Intro","classes","Box","Typography","component","root","display","flexWrap","justifyContent","overflow","palette","background","paper","paddingTop","paddingBottom","gridList","cursor","titleBar","profile","top","right","alignItems","border","boxShadow","shadows","GalleryImages","useState","tileData","setTiledData","open","setOpen","photoImg","setPhotoImg","photoUser","setPhotoUser","photoAvatar","setPhotoAvatar","handleOpen","fetch","then","json","GridList","cols","cellHeight","tile","GridListTile","urls","regular","profile_image","small","GridListTileBar","titlePosition","actionIcon","IconButton","Avatar","actionPosition","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","borderRadius","marginTop","rel","textDecoration","download","size","createMuiTheme","primary","secondary","danger","Gallery","ThemeProvider","App","exact","path","actions","authReducer","action","isSignedIn","mapReducer","cityDetailReducer","favoriteReducer","concat","slice","combineReducers","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b5d85fa0.chunk.js","sourcesContent":["export const FETCH_USER = 'FETCH_USER';\r\nexport const SIGNUP = 'SIGNUP';\r\nexport const LOGIN = 'LOGIN';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const FETCH_CITIES = 'FETCH_CITIES';\r\nexport const CITY_INIT = 'CITY_INIT';\r\nexport const OPEN_REGISTER = \"OPEN_REGISTER\";\r\nexport const CLOSE_REGISTER = \"CLOSE_REGISTER\";\r\nexport const OPEN_LOGIN = \"OPEN_LOGIN\";\r\nexport const CLOSE_LOGIN = \"CLOSE_LOGIN\";\r\nexport const SUCCESSFUL_LOGIN = \"SUCCESSFUL_LOGIN\";\r\nexport const FAIL_LOGIN = \"FAIL_LOGIN\";\r\nexport const FAIL_REGISTER = \"FAIL_REGISTER\";\r\n\r\n// city details\r\nexport const FETCH_CITY = \"FETCH_CITY\";\r\nexport const FETCH_7DAYS_WEATHER = \"FETCH_7DAYS_WEATHER\";\r\nexport const SUBMIT_VISITED_FORM = \"SUBMIT_VISITED_FORM\";\r\nexport const CITY_REDIRECT = 'CITY_REDIRECT';\r\n\r\n// favorite route\r\nexport const FETCH_FARVORITE_CITIES = 'FETCH_FARVORITE_CITIES';\r\nexport const ADDED_FAVORITE_CITY = 'ADDED_FAVORITE_CITY';\r\nexport const DELETED_FAVORITE_CITY = 'DELETED_FAVORITE_CITY';\r\n","import axios from 'axios';\r\nimport { FETCH_USER, LOGIN, FETCH_CITIES,\r\n    CITY_INIT, OPEN_REGISTER, CLOSE_REGISTER,\r\n    OPEN_LOGIN, CLOSE_LOGIN, SUCCESSFUL_LOGIN,\r\n    FAIL_LOGIN, FAIL_REGISTER, FETCH_CITY,\r\n    FETCH_7DAYS_WEATHER, SUBMIT_VISITED_FORM,\r\n    CITY_REDIRECT, FETCH_FARVORITE_CITIES, ADDED_FAVORITE_CITY,\r\n    DELETED_FAVORITE_CITY\r\n} from './types';\r\n\r\nexport const fetchUser = () => async dispatch => {\r\n        const res = await axios.get('/api/auth/current_user');\r\n        dispatch({ type: FETCH_USER, payload: res.data });\r\n};\r\n\r\nexport const login = (username, password) => async dispatch => {\r\n    const res = await axios.post('/api/auth/login', {username, password});\r\n    if (res.data.user) {\r\n        dispatch({ type: SUCCESSFUL_LOGIN, payload: res.data });\r\n    } else {\r\n        dispatch({ type: FAIL_LOGIN, payload: res.data });\r\n    }\r\n};\r\n\r\nexport const register = (username, password, firstName, lastName, email, confirmation) => async dispatch => {\r\n    const res = await axios.post('/api/auth/signup', {username, password, firstName, lastName, email, confirmation});\r\n    if (res.data.user) {\r\n        dispatch({ type: SUCCESSFUL_LOGIN, payload: res.data });\r\n    } else {\r\n        dispatch({ type: FAIL_REGISTER, payload: res.data });\r\n    }\r\n};\r\n\r\nexport const openRegisterModal = () => dispatch => {\r\n    dispatch({ type: OPEN_REGISTER});\r\n};\r\n\r\nexport const closeRegisterModal = () => dispatch => {\r\n    dispatch({ type: CLOSE_REGISTER});\r\n};\r\n\r\nexport const openLoginModal = () => dispatch => {\r\n    dispatch({ type: OPEN_LOGIN});\r\n};\r\n\r\nexport const closeLoginModal = () => dispatch => {\r\n    dispatch({ type: CLOSE_LOGIN});\r\n};\r\n\r\nexport const switchModalAction = (currentModal) => dispatch => {\r\n    if (currentModal === \"login\") {\r\n        dispatch({ type: OPEN_REGISTER});\r\n    }\r\n    else {\r\n        dispatch({ type: OPEN_LOGIN});\r\n    }\r\n};\r\n\r\nexport const fetchTop10Cities = () => async dispatch => {\r\n    const res = await axios.get('/api/search/searchInit');\r\n    dispatch({ type: CITY_INIT, payload: res.data});\r\n};\r\n\r\nexport const fetchCities = (query) => async dispatch => {\r\n    const res = await axios.post('/api/search', {query});\r\n    dispatch({ type: FETCH_CITIES, payload: res.data});\r\n};\r\n\r\n\r\n// city details\r\nexport const fetchCity = (id) => async dispatch => {\r\n    const res = await axios.get(`/api/details/${id}`);\r\n    dispatch({ type: FETCH_CITY, payload: res.data});\r\n};\r\n\r\nexport const fetch7DayForcast = (id) => async dispatch => {\r\n    const res = await axios.get(`/api/details/${id}/7days`);\r\n    dispatch({ type: FETCH_7DAYS_WEATHER, payload: res.data})\r\n};\r\n\r\nexport const submitVisitedForm = ({fromDate, toDate, travellersNum, cost, summary, rating, image, cityId}) => async dispatch => {\r\n    const res = await axios.post(`/api/visited/${cityId}`, {\r\n        fromDate, toDate, travellersNum, cost, summary, rating, image\r\n    });\r\n    dispatch({ type: SUBMIT_VISITED_FORM , payload: res.data});\r\n};\r\n\r\nexport const cityFormRedirect = () => dispatch => {\r\n    dispatch({ type: CITY_REDIRECT });\r\n};\r\n\r\n\r\n// favorites route\r\nexport const fetchFavoriteCities = () => async dispatch => {\r\n    const res = await axios.get('/api/favorites');\r\n    console.log(\"haha\", res);\r\n    dispatch({ type: FETCH_FARVORITE_CITIES, payload: res.data });\r\n};\r\n\r\nexport const addFavoriteCity = (cityId) => async dispatch => {\r\n    const res = await axios.post('/api/favorites', {cityId});\r\n    if (res.data.success) dispatch({ type: ADDED_FAVORITE_CITY, payload: res.data });\r\n};\r\n\r\nexport const deleteFavoriteCity = (cityId, index) => async dispatch => {\r\n    console.log(cityId);\r\n    const res = await axios.post('/api/favorites/delete', {cityId});\r\n    if (res.data.success) dispatch({ type: DELETED_FAVORITE_CITY, payload: {cityId, index} });\r\n};","import React from 'react';\r\nimport { fetchTop10Cities, fetchCities } from '../../actions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends React.Component {\r\n        constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            query: \"\",\r\n        };\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.formSubmitHandler = this.formSubmitHandler.bind(this);\r\n        this.clickHandler = this.clickHandler.bind(this);\r\n    }\r\n\r\n    onChangeHandler(event) {\r\n        this.setState(() => ({query: event.target.value}));\r\n    }\r\n\r\n    formSubmitHandler(event) {\r\n        event.preventDefault();\r\n        this.props.fetchCities(this.state.query);\r\n        this.setState({query: \"\"});\r\n        this.props.openSideBar();\r\n    }\r\n\r\n    clickHandler() {\r\n        this.props.closeSideBar();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.formSubmitHandler} id=\"search-form\" className=\"form-inline d-flex justify-content-center pt-4\">\r\n                <input onChange={this.onChangeHandler} onClick={this.clickHandler} value={this.state.query} className=\"form-control mr-sm-2 search-bar\" type=\"text\" name=\"query\" id=\"query\" placeholder=\"Your favorite city\" aria-label=\"Search\" required />\r\n                <button className=\"btn btn-outline-success my-2 my-sm-0\">Search</button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, { fetchTop10Cities, fetchCities })(Search);","import \"./Sidebar.css\";\r\nimport React from \"react\";\r\n\r\nclass Sidebar extends React.Component {\r\n    // ({ width, height, children }) =>\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(props);\r\n        this.state = {\r\n            xPosition: -props.width\r\n        };\r\n        this.toggleMenu = this.toggleMenu.bind(this);\r\n    }\r\n//   const [xPosition, setX] = React.useState(-width);\r\n\r\n  toggleMenu () {\r\n      console.log(this.state.xPosition);\r\n    if (this.state.xPosition < 0) {\r\n      this.setState({xPosition: 0});\r\n    } else {\r\n      this.setState({xPosition: -this.props.width});\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.letSideBarClose) {\r\n        if (this.state.xPosition === 0) {\r\n            console.log(\"closed\");\r\n            this.props.isSideBarClosed();\r\n            this.toggleMenu ();\r\n        } else {\r\n            this.toggleMenu ();\r\n        }\r\n    }\r\n    if (this.props.letSideBarOpen) {\r\n        if (this.state.xPosition < 0) {\r\n            console.log(\"opened\");\r\n            this.props.isSideBarOpened();\r\n            this.toggleMenu ();\r\n        } else {\r\n            this.toggleMenu ();\r\n        }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n      this.setState({xPosition: -this.props.width});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <React.Fragment>\r\n          <div\r\n            className=\"side-bar\"\r\n            style={{\r\n              transform: `translatex(${this.state.xPosition}px)`,\r\n              width: `${this.props.width}px`,\r\n              minHeight: this.props.height\r\n            }}\r\n          >\r\n            <div className=\"content pb-5 mb-1\">{this.props.children}</div>\r\n          </div>\r\n          <div\r\n              onClick={this.toggleMenu}\r\n              className=\"toggle-menu d-flex justify-content-center align-items-center\"\r\n              style={{\r\n                transform: `translatex(${this.state.xPosition + this.props.width}px)`\r\n              }}\r\n            ><span className=\"text-in-menu\">View Cites</span></div>\r\n        </React.Fragment>\r\n      );\r\n  }\r\n};\r\n\r\nexport default Sidebar;","export default __webpack_public_path__ + \"static/media/empty_heart.1397bcff.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport \"./Mapbox.css\";\r\nimport { fetchTop10Cities, fetchCities, fetchFavoriteCities, addFavoriteCity, deleteFavoriteCity } from '../../actions';\r\nimport Search from './Search';\r\nimport Sidebar from './Sidebar';\r\nimport empty_heart from './empty_heart.png';\r\nimport heart from './heart.png';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl-csp';\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\r\nmapboxgl.accessToken = 'pk.eyJ1Ijoiam5yZG1ubiIsImEiOiJja2wxN3VtY28zaDdlMm5xbjV5Znh0YnBpIn0.s0Cz8vhJe3T1N2wvocwFzw';\r\n\r\n\r\n\r\n\r\nclass Mapbox extends React.Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n          query: \"\",\r\n          contentContainerWidth: 0,\r\n          letSideBarClose: false,\r\n          letSideBarOpen: false,\r\n          searched: false\r\n      };\r\n      this.generateMarker = this.generateMarker.bind(this);\r\n      this.divGenerator = this.divGenerator.bind(this);\r\n      this.mapLookup = this.mapLookup.bind(this);\r\n      this.mapDragTo = this.mapDragTo.bind(this);\r\n      this.favoriteSubmit = this.favoriteSubmit.bind(this);\r\n      this.closeSideBar = this.closeSideBar.bind(this);\r\n      this.openSideBar = this.openSideBar.bind(this);\r\n      this.isSideBarClosed = this.isSideBarClosed.bind(this);\r\n      this.isSideBarOpened = this.isSideBarOpened.bind(this);\r\n      this.map = null;\r\n      this.markers = [];\r\n      this.markersForFavorite = [];\r\n      this.mapContainer = React.createRef();\r\n      this.contentContainer = React.createRef();\r\n  }\r\n\r\n  // refactor these functions into toggle ones later\r\n  closeSideBar() {\r\n    this.setState({letSideBarClose: true, searched: false});\r\n  }\r\n\r\n  openSideBar() {\r\n    this.setState({letSideBarOpen: true});\r\n  }\r\n\r\n  isSideBarClosed() {\r\n    this.setState({letSideBarClose: false});\r\n  }\r\n\r\n  isSideBarOpened() {\r\n    this.setState({letSideBarOpen: false, searched: true});\r\n  }\r\n\r\n\r\n  generateMarker(longitude, latitude, map, color, cityId) {\r\n    if (color===\"red\") {\r\n      if (this.isFavorite(cityId).check) return;\r\n    }\r\n    const marker = new mapboxgl.Marker({\r\n      scale: 1,\r\n      color: color,\r\n    })\r\n      .setLngLat([longitude, latitude])\r\n      .addTo(map);\r\n    this.markers.push(marker);\r\n  }\r\n  \r\n  mapLookup(event) {\r\n      event.preventDefault();\r\n      const { long, lat } = event.target\r\n      this.map.flyTo({center: [Number(long.value), Number(lat.value)], zoom: 9});\r\n  }\r\n\r\n  mapDragTo(coord) {\r\n      console.log(coord)\r\n      this.map.flyTo({center: coord, zoom: 9});\r\n  }\r\n\r\n  removeAllPreviousMarkers() {\r\n      this.markers.forEach(marker => marker.remove());\r\n  }\r\n\r\n  favoriteSubmit(event) {\r\n    event.preventDefault();\r\n    const cityId = event.target.cityId.value;\r\n    const index = event.target.index.value;\r\n\r\n    console.log(\"favorite city id: \", cityId, \"at index: \", index);\r\n    if (index) {\r\n      this.props.deleteFavoriteCity(cityId, Number(index));\r\n    } else {\r\n      this.props.addFavoriteCity(cityId);\r\n    }\r\n\r\n  }\r\n\r\n  isFavorite(cityId) {\r\n    let index;\r\n    let favorite = this.props.favoriteCities ? this.props.favoriteCities.filter((favoriteCity, i) => {\r\n      if (favoriteCity._id === cityId) {\r\n        index = i;\r\n        return true;\r\n      }\r\n      return false;\r\n    }) : [];\r\n    return {check: favorite.length === 0 ? false : true, index};\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.map = new mapboxgl.Map({\r\n        container: this.mapContainer.current,\r\n        style: 'mapbox://styles/mapbox/streets-v11', // style URL\r\n        center: [13.4, 13.4], // starting position [lng, lat]\r\n        zoom: 1, // starting zoom\r\n        doubleClickZoom: true,\r\n      });\r\n    const nav = new mapboxgl.NavigationControl();\r\n    this.map.addControl(nav, 'top-right');\r\n    this.props.fetchTop10Cities();\r\n    this.props.fetchFavoriteCities();\r\n    let contentContainerWidth = this.contentContainer.current.offsetWidth;\r\n    if (contentContainerWidth < 1000) {\r\n      contentContainerWidth = 1000;\r\n    }\r\n    this.setState({contentContainerWidth: contentContainerWidth});\r\n  }\r\n\r\n  divGenerator (city) {\r\n    let favorite = this.isFavorite(city._id);\r\n    return (\r\n      <div key={uuidv4()} className={`card-city row ml-3 mr-1 mt-3`}>\r\n        <div className=\"city-header w-100 d-flex justify-content-between align-items-center px-3 py-1\">\r\n          <Link className=\"city-header-name\" to={`/details/${city._id}`}><h4>{city.name}</h4></Link>\r\n          <form onSubmit={this.favoriteSubmit}>\r\n            <input type=\"hidden\" name=\"cityId\" value={city._id}/>\r\n            <input type=\"hidden\" name=\"index\" value={favorite.index}/>\r\n            <button className=\"button-hidden\" ref=\"submitBtn\">\r\n              {!favorite.check ? <img className=\"heart\" src={empty_heart} alt=\"empty heart\"/> : <img className=\"heart\" src={heart} alt=\"heart\"/>}\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div className=\"city-body px-3 w-100\">\r\n          <p className=\"m-0\">Country: {city.country}</p>\r\n          <p className=\"m-0\">Population: {city.population} people</p>\r\n        </div>\r\n        <div className=\"d-flex justify-content-end align-items-center w-100\">\r\n            <form onSubmit={this.mapLookup}>\r\n                <input type=\"hidden\" name=\"long\" value={city.loc.coordinates[0]}/>\r\n                <input type=\"hidden\" name=\"lat\" value={city.loc.coordinates[1]}/>\r\n                <button className=\"button-removed\" >View on Map</button>\r\n            </form>\r\n          <Link to={`/details/${city._id}`} className=\"button-removed\">City Weather</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n      return(\r\n          <div className=\" m-2\" className=\"container-city\" ref={this.contentContainer}>\r\n            <Search closeSideBar={this.closeSideBar} openSideBar={this.openSideBar}/>\r\n            { !this.state.contentContainerWidth ? null :\r\n              <Sidebar \r\n                isSideBarClosed={this.isSideBarClosed}\r\n                isSideBarOpened = {this.isSideBarOpened}\r\n                letSideBarClose={this.state.letSideBarClose}\r\n                letSideBarOpen={this.state.letSideBarOpen}\r\n                width={this.state.contentContainerWidth * 0.4}\r\n                height={\"100vh\"}>\r\n                { this.props.searched && this.state.searched ? this.mapDragTo(this.props.cities[0].loc.coordinates) : \"\"}\r\n                { this.props.searched ? this.removeAllPreviousMarkers() : \"\" }\r\n                {!this.props.cities || !this.map ? \"\" : this.props.cities.map((city) => {\r\n                    this.generateMarker(city.loc.coordinates[0], city.loc.coordinates[1], this.map, \"red\", city._id);\r\n                    return this.divGenerator(city);\r\n                })};\r\n                {!this.props.favoriteCities ? \"\" : this.props.favoriteCities.forEach(city => {\r\n                  this.generateMarker(city.loc.coordinates[0], city.loc.coordinates[1], this.map, \"green\");\r\n                })}\r\n            </Sidebar>\r\n            }\r\n            <div id='map' ref={this.mapContainer} className=\"pl-0\"></div>\r\n          </div>\r\n      )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(state);\r\n    return { cities: state.map.cities, searched: state.map.searched, favoriteCities: state.favorite.favoriteCities };\r\n}\r\n\r\n// export default Mapbox;\r\nexport default connect(mapStateToProps, { fetchTop10Cities, fetchCities, fetchFavoriteCities, addFavoriteCity, deleteFavoriteCity })(Mapbox);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL0AAACjCAYAAADfCx/bAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAABEZVhJZk1NACoAAAAIAAIBEgADAAAAAQABAACHaQAEAAAAAQAAACYAAAAAAAKgAgAEAAAAAQAAAL2gAwAEAAAAAQAAAKMAAAAAL9PMmAAAAgVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjEwMjQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzY4PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CtUjEuoAABYaSURBVHgB7V0NeBRFmq7qmSSEH09BM0kIIqeoqMuBosK6LD8qu966nuxuvD3/FhRCwu+Eu8fzzl2f3Io87OqRCRFmMoGAyyL3kBU91ltlvRUEXfBnRXEFPXURAiEJRAQSSGamq+6rLIPzP90zPT3dPV8/T57urvrqq+9768031dVV1ZRY6DjgnHFhnj+viEq2AZKd5Emc5DFK/BLlvZQHus/25HcOd7u/Ape5hdxOy5UaQqRZ8x68iJCCIfl5pL9MbfmSLNuZzRawcdlHKOs6GejpGFm/4VRaFRmoMDWQLYpM+ai8PP/ikgvHEZs0mhN6LThwDfxdySkpooTmJ1XCuQyMPwJlDjJCPwP+f0hkvvc073rHSg0biUNL9cODC4j9Jk6kb8C//HWE8ssBg8sIpSUgK0XKR95zTnoBq3ZCySeUk32A/T7AfO/hLvlP47xef6S8ke/Bb2MfNdAgcxdVfJPbpNsA7EkA9Hggd78MWM045x9Bw74iM/LSG61fvnlPc7OcgXp0UdkXHMou/jYl/PtA1GlA9KuA4Jq3N2B2BhzaDfp3wPl/HS7PH+Fs6F9SzUHQokU3lZfbvj10yCQqkR8RQqeDkcVa6FWp4wQ06MuEkV+56zyv1hC4MvixbfJk+zVjrryTUOl+oPc0wG6Q7iZzfhQY/wL8Mjy/40jn60YMHIYi/RfOipJCSmdTKs2BxirVvcHiVAiNeAAacbXUe7apaNW6tjhiWUtuXVRxqV2is4HsD4ERhsENbGnljHt7A77GS59pas0aQBEVG4L07Qtnf5PabIvAtunwE5wXYaNhbjnhPvjlbuz1+ZcaoRHbq6v+Fux5HBrxfsDNZhigog0JwK/mizKhK0pr3Tujs/VNySrpW6urJtoIr4Gu5lR93U6vNiB/DzxfNAS62ZJSr/d4etrUlz68YFZZvj2vBvrqP4HSdvUasliC852Mk5pil+e1bFmRFdK3OmeNstO8X0CjfT9bjmtRL3R5Ojlh/1pc29AE+qAXlNmj71mnbMhCeJD/OfTZB2a2tsxqh8CxlciBRxx1q/dmtqZo7bqSvmNu+UBeMBh+jqnTyN2YaJgSp8BP95t+n/xQ2crG/0ssmXpuq7PiehuVmuBX8e9S12KwkjB8DKMD7rO852cjXOvE+xNdDt1ID/3P2yCyr4YKh+vimc6VQJjvpozPL3J51mlcNW2rrnRCZF+m6D2ExpXrog5GfBijlcV17i161Jdx0h+YMaNf/8EFT1MizdPDoWzXAVH/ObmbzYa+vhi/Tus4WFV1UWE/vgF+Fe9IS5FJCnMYHqa+4/OKVjV3ZdLkjJL+yKKqq+wS2QRRanQmnTCcbs7f7fH7/iGdEZ6O6oevICTvJSD8VYbzL4MGwXPSZ4EAv2dovWdPpqrJGOmPOiu+Z5OkDfCC5G8yZbyh9XJ+hBF2R3Gt90O1drY7K2+BruAW6L8PVlvWCvJA/LPQXZxVXOt+LhP+SJlQCn3Qaptkg/5ZjhJegErpUEps21oXVt2gBuO2hXNuBcL/PlcJ/1foSKFEyYaOxZVL1GCnVFbrSE/bqyufggb7Z6UGWF+On5Rl+faSusZ3kvnaXl0xDd6q/neG5hYlq96Q+fCM9Oy+PR/PmrJ9e0ArA7UkPYWfZTeVqJhCgEcIAmI8X+b+iaWu1ftDksMu251zJhBJehUaZEBYBt4QwG9zS7f8Y61mc2rWvYEI34CEj81QeJAfYpfytnbMnRFz4lzLwjkjqST9DxI+Ln4/GDbQtklMqIstoS5VE9K3L678BXRpZqurOuekh/GCwhc/XXBHQajnYuFLgY3+FtJgIQce8RCAgHD3NWNGrYH8tHsnaZO+bXGVE/qgj8QzFtO/RgAi/s0X2C9zfZ1CSH+pcG2uDUuG+q/mGqaaPwgBdpmaMrFk0/qv6aie8134xxNjyUae4RfL76ymccZ+6HA1bO5wVs2DNUvPZNUYM1bOyYyiWvezqZqeMun7Xp7QvHdzelgyRdRhstVxmHVyJ/TjX4NuYf8U1eRsMXiw7WUsMFHJiFgskFIivViKdknZkF0Q4a+PpRTTkiPQNz05M8sek1duAQl4eXWgq0see7nXe1KtOyn16S8uG7IMCa8W6nB5HIsPx0PtHUTrEYMGSB615YS86kjfsajiWzCevANIr7psKgZiGUQgEQLwi/kjx3LP84lkIvNUEVfMmBwwuPADUHJlpCK8RwSygQC8sW33Ef81w2rXfKm0flXdm/4XFYihSSS8UnRRLuMIQIfDkU/zVM3RURzpj8ydOcxeUPAxjjZkvB2xArUI9K3AYmOVzmhVHOmB8E8i4dW2BsrrggC8J4IZrU8rrUtRpG+dX3G1Pd8Gu38l3/5NacUohwhojQDssfMt2GHtzWR6FUV6IHwNKFIkm6xCzEcEMoaARP5Die6kkb5t/qwRUp79UxiixKkGShBFmawiEGDyDaUu73uJjEgavYHwi5DwiSDEPCMhANukOJPZkzDSi31qSL8hsAdhFjYCTWY55iMCMRCAl1U+2Ed5WLHH0xEjuy8pcaQvGFyOhI8HHaYbEQGxNxDtx+9PZFti0hM6M1FhzEMEDIkApTMS2RW3e3PUWXmZTaIHEhXGPETAqAgwLo+O97IqbqSH6WTTjeoQ2oUIJEMAujlx+RuX9JARt1CyCjEfEcg2AjB74O54NsTs3vR9lIvmH4NCcf8p4inEdETAKAicYXLpZS7v0Uh7YpI6n9sng2DMvEgFeI8IGBWBQiJNjWVbbGJTemssYUxDBMyEAHRxpsSyNzbpCZ0USxjTEAFTIUDJxFj2RpFevIWFkZtRsYQxDREwFQKcj/x0wX0XRNocRfpA3mCxw0FUemRBvEcEDI8A9G8G2gZF7dgRRW6YjT/O8M6ggYiAQgSg1zI2UjSK9DCj8upIIbxHBMyKALykiuJzFOlh4D5KyKwOo92IAPB5ZCQKUaTnMf4zIgvhPSJgHgR41O4dYaRvqS4vhD7QJeZxCC1FBJIgQGmJ+Oh0qFQY6fMDF5WGZuI1ImABBKTxjkGOUD/CSC9LdGhoJl4jAlZAwG63h30BJoz08PmcsEwrOIw+IAJ2SotCUQgjvUTohaGZeI0IWAIBKg0K9SOM9ISzqFe2ocJ4jQiYEgHOBobaHU56iSLpQ9HBa0sgwGj4bh7hpCe00BJeohOIQAgClPH8kFucWBYKBl5bEwFOqRzqWXik5+RMaCZeIwKWQIDT06F+hJGeU3IiNBOvEQErIECJfDzUjzDSE8baQzPxGhGwAgKMSrA15ddHGOkpYwe/zsIrRMAaCPBu9pdQT8JITyj/PDQTrxEBsyMAH2L7stTrjd+9cdStbhdfsza7o2g/IhBEAObT7w1eB8/hkR5SKacfBjPxjAiYHQEYroz6QEMU6eHz42+b3VG0HxEIIgDPqbuC18FzFOkJl3cHM/GMCJgeAV/vG5E+RJHe7+/ZSaD3HymI94iA6RDgZH/RqnVtkXZHkb5s5a86CSXvRwriPSJgOgQ42xrL5ijSCyHO6e9jCWMaImAmBDjlL8eyNybpiRzYEksY0xAB0yDAyVct3WRbLHtjkt69onE39OrF/vR4IAKmRAAeSl8a5/X6Yxkfk/Q1hDAQfj5WAUxDBMyAAKNsYzw7Y5JeCMssfqF4yjAdETACAjCroOPj9z6J+1wal/SldQ07YeTykBGcQBsQATUIUE42Ttm+PRCvTFzSQwHY4Y+sjVcQ0xEBoyIgB7g3kW2JSE/kXr8gvejf44EImAMBzneW1DfsS2RsQtKXrlxzEAbtX0mkAPMQASMhwBhfmcyehKQXhTkjK5IpwXxEwAgIiGfQ/R98knTUMSnpHXUeeArmHxvBKbQBEUiCwIpED7DBsklJD4IQ7MnyYAE8IwKGRADewJ4KnG5UYpsS0pPOls5noW9/RIlClEEEsoEAzLOpG1m/4ZSSuhWR/trmZh9E+/9UohBlEAHdEeDkVM9ZWqe0XkWkF8pYN2uABwXcIkQpsiinGwIwz8Y13O1WvGeTYtLDivIzsBnUUt08wYoQAQUIiI0MTpzsfVqB6HkRxaQXJU77DzbAqeV8abxABLKMAEwbePLqpqawbfuSmaSK9CPrX+4ljD+eTCnmIwJ6IADdmgOn/V+41dYV9tU1JYUH7H53740Txt0Fm4WUKJFHGUQgYwhw/vCldf/1Z7X6VUV6obwGnmllRharrQjlEQFNEeBkm6PW80IqOlWTXlRS4vJsh5GclCpMxUgsgwhEIBBgRF4Ukab4NiXSC+2wyMQJfapuxTWhICKgEQJiiLK41pvyTnwpk760znsI9gl8QiM/UA0ioAgBMamMH+uqUSQcRyhl0gt9h7rk5TBOmnDucpx6MRkRSAkB4Nv84vXr0+phpEX6vtXmjM8C63GhSUpNiIXUIABR/rni2obfqikTSzYt0guFDlfDLjBG8byHWEZgGiKQDAHgWLvfd2ZhMjkl+WmTXlQid7Ofws8OftBBCeIokxoCnFX2bTmZWumwUpqQXszLkWX+EGjGbk4YvHijBQIQ5dc7XN4XtdAldGhCeqEItgzZwTj/pbjGAxHQCgEx1eDESd88rfQJPZqRXig73M1gXg7fI67xQATSRoBzGb54eZ/aCWXJ6tWU9GI0J8AC98E+mGeTVYz5iEAyBOA58edioCSZnNp8TUkvKi91rd7PCVug1hCURwRCEQDC/8Fd27AkNE2ra81JLwyDsdQ14uFDKyNRT84h0MrPkHtrMjQwkhHSiybix7urcOuQnCOrFg4HApz8uNjj6dBCWSwdGSO9eFXMAqQcJ6XFgh3T4iHAGfu30lr3znj5WqRnjPTCuOIVnj/DpLSZWhiKOqyPAPTjN8KDq6r1rqmgklHSC4OKlrubYfx+WSrGYZkcQoDz93y882E9PLbpUcnA3e9uGzf+xpspJVfoUR/WYS4EIMJ3BHp7p5bVb+jUw/KMR3rhRA08hZ/hZ/8Jdkn7RA+nsA7zIADvdGCzAfKDoavWtuhltS6kF86McK37igfY9+C/+rhezmE9BkcAxrU5ZzMdLs+belqqG+mFU4567+dUZtP7/rv19BLrMiQCjJOfFbsa4n4QLVNG60p64URRnfcN6Obo8sCSKdBQb/oIAOHXFrs8T6avSb0G3UkvTISfsw3g9GPqzcUSVkAAfulfOdwtz8mWLzCMnr2jrbqyXqJ0fvYswJr1RgAI/xY/3nVruutc07FblyHLeAbCUObWG8ePG0UovTaeDKZbCAFO9vt93beVrl5/MpteZaV7E3S4BoYyjx3ufAAe4V8LpuHZsgi0+Ht7vqPVkr90UMoq6YXh4oMPsDLmbvGzl44jWNa4CEBQa/fL5HY9x+IToZHVPn2oYQecMy7sTwu3wVvbMaHpeG1uBCCYdXKZTxbzsIziiWFILwA5umDmJTZ7v9fhS+WjjAIQ2pEGAvDxM3+ATx1a7zHUEtKsd29CIS2pX3usx997G7y1xe1EQoEx5TU/zZj8XaMRXkBpqEgfbNsjc2cOs/cr2EYJvTyYhmcTIQAfPuNy4A7HisY/GtFqQ0X6IEDigcfHySR4c/tpMA3PZkGAn4QIP82ohBcoGjLSB5v30PyHSvvlF2yD+yuDaXg2NAInAgFye+kK95+MbKUhI30QsEufaWo9w+TJuNY2iIhxz2KUhrDAVKMTXiBo6EgfbOK2ysoiWki34nBmEBGDnTk/ymQyzUjDkokQMnSkDxouVsbDIpQp8JJD13nXwfrxHB8BMdLG/IFbzEJ44YkpIn0Q8taKiv62gdJmGNX5TjANz9lDAILQh7S3Z1rRqnVt2bNCfc2miPRBt8TuyMdbOu8CsH8TTMNzdhCANtjV00MnmY3wAq2szrJMpblW7dsn3zRsxObhgwodlNJxqejAMmkiwPnvYDOvu8rWrDmVpqasFDdV9yYSoTZn5WOSRDOy32FkXXj/VwQgwje+friz6p7mZtmsmJia9AL0juqqn8CTyWq4tJu1EcxiN2f8cVj19oRZ7I1np+lJLxxrr66YBj2152FIc2A8RzE9DQQ498OYx+yiWvezaWgxTFFLkF6geWRB5di8PPoSXJYaBl1LGMJPwtTgckddw6uWcAecsAzpRYO0VFcOLSBkCyw/vN4qDZRNP+At619k7r9TfHMgm3ZoXbelSC/A6RvLHyD9GkZ2pmsNVm7p4zsCXeyHMExsuc25LEf6c8SksNPCUthp4dHcIqo23oo9aToPH68USzm10WgsLVYlfR/KYmQH9sdvgAdc6PXgoQAB2GCaPOqodT+lQNa0IpYmvWiVtkUVN0s222a4xAfcxDQ9QTi7t6i24ZXEYubPtTzpRRN1zJ1RzAv6/Qb6+beYv8m090DMoSEBNl3sNaq9duNpNNXcm1ThE/NDWroZzNIknlR1WLYc55tgSsGEXCG8aMeciPShhG1zVs2iEl8JMzXzQ9Nz7ho+TAxB4N/hDWvOfeU950gvyH20uvImGNnZBM4Pzzmyg8MwB76DB/i9xSsa/pCL/udE9yayYUtqPW/7uO96WHj+u8g8y99zvrPX5xubq4QX7ZuTkT6E2LRj8ZxHCadPwFtc002zDvEj+SU8rXJCf7lvz/6fTtm+PZC8gHUlcp30fS171Fk5GaYobwQwii3a1CeYzB8srvOIuUk5fyDpz1Hg3LDmBhjWnGolVkB4f0v2+f6xdOWag1byKx1frP2TrgKZp955vwv2y//1jRNu6IVe3yQoavbnHcYYWbb//f0PjG5+4YQKKCwvipE+RhOLt7jUZhPdnRExss2Q1CoT+f6S5d5tZjBWbxvNHs0ygldxnfetU/5TY2Bob2NGKsigUrB5i6+3ezQSPj7IGOnjY9OX0+GsnMEprTf6qiwgew9l9F+KXO6VSVzK+WwkvQIKtC+ouJzYpfXwkDtBgXgWRPgemcsPlNQ2fpSFyk1XJXZvFDSZmJcCOwBM7PsMaN96UQWF9BCBqQTwgm3poS52MxJeOeAY6ZVj1Scp1uLa7RSiPsnqFxFhKPIzmAr8oMPVsEulCzkvjpFeJQXElzVOBb64ARanLIcoCyf9D6jVA99iHYOETw17jPSp4dZX6tyb3CYAcUQaapQX5fwwTBeDrTisv9BDOSjqJTHSq8fsfIkSl2c7P9b1DVhj90zGoz4na053s+uQ8OfhT/kCI33K0IUXbK2umgivt5ugr39FeE56d9B/OkhkNttK+86kh0j6pZH06WN4XkNLdXlhPr14CYDqhMT0fkXFrEhKPLSn85GiVc1d5yvBi7QRQNKnDWG0gnbnnAlUok0wh+fq6NzkKfCi6XOYNzNLdJ+SS6OEWgTSi0Zqa8sReTGqctJ/cAwMKS6Bvj7sA6n4CHDOnpK72GgkvGLMVAtipFcNmboCbQsrr4PlKY3wNnd8opLQmXmbUF7hWN7wQSI5zEsfASR9+hgm1VAD/fu5zqoqWKe2FP4uCC/ATxPGH1vlalgJciw8D+8ygQCSPhOoxtF57ru4LsguFyIwMvOi3+9fUFa/Gsbf8UAELIzA0cVz/r7dWXG3hV1E1xABRMBICPw/E6CdIEi1mNYAAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/logo_transparent.f429af24.png\";","import React, { Component } from \"react\";\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport \"./Auth.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSignInAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport logo from '../nav/logo_transparent.png';\r\nimport { login, closeLoginModal, switchModalAction } from '../../actions';\r\n\r\nclass LoginModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n    };\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.switchModal = this.switchModal.bind(this);\r\n  }\r\n\r\n  handleClose() {\r\n    this.props.closeLoginModal();\r\n  }\r\n\r\n  handleFormSubmit(event) {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n    this.props.login(username, password);\r\n    this.setState({username: \"\", password: \"\"});\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value});\r\n  }\r\n\r\n  switchModal() {\r\n    this.props.switchModalAction(\"login\");\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.isSuccessed, this.props.message)\r\n    const messageError = (\r\n      <div className=\"alert alert-warning alert-dismissible fade show text-center\" id=\"signin-failed\" role=\"alert\">\r\n        <strong>{this.props.message}</strong>\r\n        <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <>\r\n        {/* <Button variant=\"primary\" onClick={this.handleShow}>\r\n          <FontAwesomeIcon icon={faSignInAlt} />\r\n          <span className=\"md-hidden d-inline\"> Log In</span>\r\n        </Button> */}\r\n        <Modal\r\n          show={this.props.isModalOpen}\r\n          onHide={this.handleClose}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <div className=\"header-box w-100 d-flex justify-content-center flex-column align-items-center pl-4\">\r\n              <Modal.Title>Login Form</Modal.Title>\r\n              <img className=\"logo-auth\" src={logo} alt=\"logo-bee-travel\"/>\r\n            </div>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.message ? messageError : null}\r\n            <form onSubmit={this.handleFormSubmit} className=\"login-form ml-5 mr-5\" id=\"loginForm\">\r\n              <div className=\"input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\"><i className=\"fa fa-user field-icon\"></i></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.username} type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"username\" required />\r\n              </div>\r\n              <div className=\"input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\"><i className=\"fa fa-key field-icon\"></i></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.password} type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"password\" required />\r\n              </div>\r\n              <div className=\"form-group text-center mb-0\">\r\n                <button className=\"btn btn-login\">Log In</button>\r\n              </div>\r\n            </form>\r\n          </Modal.Body>\r\n          <div className=\"row m-0 p-0\">\r\n          <div className=\"col-4\">\r\n            <hr />\r\n          </div>\r\n          <div className=\"col-4 text-center\">\r\n            <p>Or</p>\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <hr />\r\n          </div>\r\n        </div>\r\n        <div className=\"d-flex justify-content-center\">\r\n        {/* <SignupModal /> */}\r\n        <button type=\"button\" onClick={this.switchModal} className=\"btn btn-secondary btn-register mb-3\">New Account</button>\r\n        </div>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { isSuccessed: state.auth.isSuccessed,\r\n    message: state.auth.messageLogin,\r\n    isModalOpen: state.auth.is_login_modal\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { login, closeLoginModal, switchModalAction})(LoginModal);","import React, { Component } from \"react\";\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport \"./Auth.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEnvelope, faKey, faSignInAlt, faUser, faUserPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport logo from '../nav/logo_transparent.png';\r\nimport { login, register, closeRegisterModal, switchModalAction } from '../../actions';\r\n\r\n\r\nclass RegisterModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      confirmation: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      messagePW: \"\",\r\n      messageEmail: \"\"\r\n    };\r\n    this.regexPW = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/;\r\n    this.regexEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.switchModal = this.switchModal.bind(this);\r\n  }\r\n\r\n  handleClose() {\r\n    this.props.closeRegisterModal();\r\n  }\r\n\r\n  handleFormSubmit(event) {\r\n    event.preventDefault();\r\n    const { username, password, firstName, lastName, email, confirmation } = this.state;\r\n    // if (!username || !password || !firstName || !lastName || !email || !confirmation) {\r\n    //   this.setState({ message: \"can not be empty\"});\r\n    //   return;\r\n    // }\r\n    if (password !== confirmation) {\r\n      this.setState({ messagePW: \"Passwords do not match!\"});\r\n      return;\r\n    }\r\n    if (!this.regexPW.test(password)) {\r\n      this.setState({ messagePW: \"Password is not strong (at least 6 chars, one number, one lowercase and one uppercase letter!\"});\r\n      return;\r\n    }\r\n    if (this.regexEmail.test(email)) {\r\n      this.setState({ messageEmail: \"Please provide a valid email\"});\r\n      return;\r\n    }\r\n    this.props.register(username, password, firstName, lastName, email, confirmation);\r\n    this.setState({ username: \"\", password: \"\", firstName: \"\", lastName: \"\", email: \"\", confirmation: \"\"});\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value, messagePW: \"\", messageEmail: \"\"});\r\n  }\r\n\r\n  switchModal() {\r\n    this.props.switchModalAction(\"register\");\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.message);\r\n    const messageError = (\r\n      <div className=\"alert alert-warning alert-dismissible fade show text-center\" id=\"register-failed\" role=\"alert\">\r\n        <strong>{this.props.message}</strong>\r\n        <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <>\r\n        {/* <Button variant=\"primary\" onClick={this.handleShow}>\r\n          <FontAwesomeIcon icon={faSignInAlt} />\r\n          <span className=\"md-hidden d-inline\"> Log In</span>\r\n        </Button> */}\r\n        <Modal\r\n          show={this.props.isModalOpen}\r\n          onHide={this.handleClose}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <div className=\"header-box w-100 d-flex justify-content-center flex-column align-items-center pl-4\">\r\n              <Modal.Title>Register Form</Modal.Title>\r\n              <img className=\"logo-auth\" src={logo} alt=\"logo-bee-travel\"/>\r\n            </div>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.message ? messageError : null}\r\n            <form onSubmit={this.handleFormSubmit} className=\"login-form ml-5 mr-5\" id=\"signupForm\">\r\n            <div className=\"form-row\">\r\n              <div className=\"col-md-6 input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text field-icon\"><FontAwesomeIcon icon={faUser} /></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.firstName} type=\"text\" className=\"form-control\" name=\"firstName\" placeholder=\"First Name\" required />\r\n              </div>\r\n              <div className=\"col-md-6 input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text field-icon\"><FontAwesomeIcon icon={faUser} /></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.lastName} type=\"text\" className=\"form-control\" name=\"lastName\" placeholder=\"Last Name\" required />\r\n              </div>\r\n              <div className=\"col-md-12 input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text field-icon\"><FontAwesomeIcon icon={faUserPlus} /></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.username} type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"Username\" minLength={6} required />\r\n              </div>\r\n              <div className=\"col-md-6 input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text field-icon\"><FontAwesomeIcon icon={faKey} /></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.password} type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"Password\" required />\r\n              </div>\r\n              <div className=\"col-md-6 input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text field-icon\"><FontAwesomeIcon icon={faKey} /></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.confirmation} type=\"password\" name=\"confirmation\" className=\"form-control\" placeholder=\"Confirmation\" required />\r\n              </div>\r\n              {this.state.messagePW ? <div className=\"alert alert-warning col-md-12 text-center\" role=\"alert\">{this.state.messagePW}</div> : null}\r\n              <div className=\"col-md-12 input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text field-icon\"><FontAwesomeIcon icon={faEnvelope} /></span>\r\n                </div>\r\n                <input type=\"email\" name=\"email\" className=\"form-control\" placeholder=\"Your email\" required />\r\n              </div>\r\n            </div>\r\n            {this.state.messageEmail ? <div className=\"alert alert-warning col-md-12 text-center\" role=\"alert\">{this.state.messageEmail}</div> : null}\r\n            <div className=\"justify-content-center pb-2 text-center\">\r\n              <input type=\"checkbox\" className=\"mr-3\" required />I agree to the term of use\r\n            </div>\r\n            <div className=\"form-group text-center\">\r\n              <button type=\"submit\" className=\"btn btn-register\">Register</button>\r\n            </div>\r\n          </form>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n{/* \r\n\r\n\r\n\r\n\r\n\r\n\r\n            <form onSubmit={this.handleFormSubmit} className=\"login-form ml-5 mr-5\" id=\"loginForm\">\r\n              <div className=\"input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\"><i className=\"fa fa-user field-icon\"></i></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.username} type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"username\" required />\r\n              </div>\r\n              <div className=\"input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\"><i class=\"fa fa-key field-icon\"></i></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.password} type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"password\" required />\r\n              </div>\r\n              <div class=\"form-group text-center mb-0\">\r\n                <button className=\"btn btn-login\">Log In</button>\r\n              </div>\r\n            </form> */}\r\n          </Modal.Body>\r\n          <div className=\"row m-0 p-0\">\r\n          <div className=\"col-4\">\r\n            <hr />\r\n          </div>\r\n          <div className=\"col-4 text-center\">\r\n            <p>Have Account?</p>\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <hr />\r\n          </div>\r\n        </div>\r\n        <div className=\"d-flex justify-content-center\">\r\n        {/* <SignupModal /> */}\r\n        <button type=\"button\" onClick={this.switchModal} className=\"btn btn-secondary btn-login mb-3\">Login</button>\r\n        </div>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    message: state.auth.messageRegister,\r\n    isModalOpen: state.auth.is_register_modal\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { login, register, closeRegisterModal, switchModalAction})(RegisterModal);\r\n\r\n{/* <div class=\"modal fade\" id=\"signupModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"signupModalTitle\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Register Form</h5>\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div id=\"messageSignup\"></div>\r\n          <form onsubmit=\"signup(); return false\" method=\"post\" id=\"signupForm\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-6 input-group form-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n                </div>\r\n                <input type=\"text\" class=\"form-control\" name=\"firstName\" placeholder=\"First Name\" required>\r\n              </div>\r\n              <div class=\"col-md-6 input-group form-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n                </div>\r\n                <input type=\"text\" class=\"form-control\" name=\"lastName\" placeholder=\"Last Name\" required>\r\n              </div>\r\n              <div class=\"col-md-12 input-group form-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fas fa-user-plus\"></i></span>\r\n                </div>\r\n                <input type=\"text\" class=\"form-control\" name=\"username\" placeholder=\"Username\" minlength=\"3\" required>\r\n              </div>\r\n              <div class=\"col-md-6 input-group form-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\r\n                </div>\r\n                <input type=\"password\" name=\"password\" class=\"form-control\" placeholder=\"Password\" required>\r\n              </div>\r\n              <div class=\"col-md-6 input-group form-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\r\n                </div>\r\n                <input type=\"password\" name=\"confirmation\" class=\"form-control\" placeholder=\"Confirmation\" required>\r\n              </div>\r\n              <div class=\"col-md-12 input-group form-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\r\n                </div>\r\n                <input type=\"email\" name=\"email\" class=\"form-control\" placeholder=\"Your email\" required>\r\n              </div>\r\n            </div>\r\n            <div class=\"justify-content-center pb-2 text-center\">\r\n              <input type=\"checkbox\" class=\"mr-3\" required>I agree to the term of use\r\n            </div>\r\n            <div class=\"form-group text-center\">\r\n              <button type=\"submit\" class=\"btn btn-login\">Register</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class=\"row m-0 p-0\">\r\n          <div class=\"col-4\">\r\n            <hr>\r\n          </div>\r\n          <div class=\"col-4\">\r\n            <p class=\"text-center\">Or</p>\r\n          </div>\r\n          <div class=\"col-4\">\r\n            <hr>\r\n          </div>\r\n        </div>\r\n        <form class=\"text-center\">\r\n          <button type=\"button\" class=\"btn btn-secondary btn-register mb-3\" data-dismiss=\"modal\" data-toggle=\"modal\" data-target=\"#loginModal\">Login</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div> */}","import React from \"react\";\r\nimport \"./Navbar.css\";\r\nimport LoginModal from '../auth/LoginModal';\r\nimport RegisterModal from '../auth/RegisterModal';\r\nimport logo from './logo_transparent.png';\r\nimport { openRegisterModal, openLoginModal } from '../../actions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Navbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.openModal = this.openModal.bind(this);\r\n  }\r\n\r\n  openModal(modal) {\r\n    if (modal === \"register\") {\r\n      this.props.openRegisterModal();\r\n    } else {\r\n      this.props.openLoginModal();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"nav-bar\">\r\n        <nav className=\"navbar navbar-expand-md navbar-light bg-warning\">\r\n            <a className=\"navbar-brand\" href=\"/\">\r\n              <img className=\"d-inline logo-image\" src={logo} alt=\"logo-bee-travel\" />\r\n              <span className=\"blue d-inline brand-name\"> Bee Travel</span>\r\n            </a>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n            <ul className=\"navbar-nav mr-auto\"></ul>\r\n            <ul className=\"navbar-nav ml-auto\">\r\n              <li className=\"nav-item mr-3\">\r\n                <LoginModal />\r\n                <RegisterModal />\r\n                <button onClick={() => this.openModal(\"register\")}>Register</button>\r\n                <button onClick={() => this.openModal(\"login\")}>Login</button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          {/* <ul className=\"nav-bar-ul\">\r\n            <li>\r\n              <a href=\"/\"> Bee-Travel</a>\r\n              \r\n            </li>\r\n          </ul> */}\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default Navbar;\r\nexport default connect(null, { openRegisterModal, openLoginModal })(Navbar);\r\n","import React from \"react\";\r\nimport { fetch7DayForcast } from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./City.css\";\r\nimport Chart from 'chart.js';\r\n\r\nclass TemChart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.chartRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetch7DayForcast(this.props.cityId);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.myChart = new Chart(this.chartRef.current, {\r\n      type: 'line',\r\n      data: {\r\n        labels: this.props.temps7Days.days,\r\n        datasets: [{ \r\n            data: this.props.temps7Days.tempsDay,\r\n            label: \"Day\",\r\n            borderColor: \"#3e95cd\",\r\n            backgroundColor: \"#7bb6dd\",\r\n            fill: false,\r\n          },\r\n          { \r\n            data: this.props.temps7Days.tempsNight,\r\n            label: \"Night\",\r\n            borderColor: \"#3cba9f\",\r\n            backgroundColor: \"#71d1bd\",\r\n            fill: false,\r\n          },\r\n        ]\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        legend: {\r\n            position: 'left',\r\n            labels: {\r\n                fontColor: \"white\",\r\n                boxWidth: 20,\r\n                padding: 20\r\n            }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <canvas id=\"tempChart\" className=\"p-3\" width=\"500\" height=\"200\" ref={this.chartRef}></canvas>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(\"in forcast: \", state)\r\n  const { temps7Days, message } = state.city;\r\n  return { temps7Days, message };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetch7DayForcast })(TemChart);","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nclass TempWeekList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n\r\n    }\r\n    render(){\r\n        const tempList = !this.props.temps7Days ? null : this.props.temps7Days.days_letters.map((day, index) => {\r\n            // index = Number(index);\r\n            let status = (index === 0) ? \"active\" : \"\";\r\n            return (\r\n                <li key={index} className={status}>\r\n                    <img className=\"day-icon\" src={this.props.temps7Days.icons[index]} alt={this.props.temps7Days.weathers[index]} />\r\n                    <span className=\"day-name\">{day}</span>\r\n                    <span className=\"day-temp\">{Math.round(this.props.temps7Days.tempsNight[index])}°C</span>\r\n                </li>\r\n            )\r\n        });\r\n        return(\r\n            <ul className=\"week-list mt-0\" id=\"week-list\">\r\n                {tempList}\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    console.log(\"in tempweek: \", state)\r\n    const { temps7Days, message } = state.city;\r\n    return { temps7Days, message };\r\n}\r\n  \r\nexport default connect(mapStateToProps, null)(TempWeekList);","import React, { Component } from \"react\";\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport \"./City.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faImages, faSignInAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport logo from '../nav/logo_transparent.png';\r\nimport { submitVisitedForm, cityFormRedirect } from '../../actions';\r\nimport { Redirect } from 'react-router'\r\n\r\nclass VisitedModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        fromDate: new Date(),\r\n        toDate: new Date(),\r\n        travellersNum: 0,\r\n        cost: 0,\r\n        summary: \"\",\r\n        rating: 5,\r\n        show: false\r\n    };\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({show: false});\r\n  }\r\n\r\n  handleShow() {\r\n      this.setState({show: true});\r\n  }\r\n\r\n  handleFormSubmit(event) {\r\n    event.preventDefault();\r\n    const stateCopy = {...this.state};\r\n    stateCopy.fromDate = new Date(stateCopy.fromDate);\r\n    stateCopy.toDate = new Date(stateCopy.toDate);\r\n    this.props.submitVisitedForm({...stateCopy, cityId: this.props.cityId});\r\n    this.setState({\r\n        fromDate: new Date(),\r\n        toDate: new Date(),\r\n        travellersNum: 0,\r\n        cost: 0,\r\n        summary: \"\",\r\n        rating: 5,\r\n        show: false\r\n    });\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n    this.setState(() => ({ [name]: value}));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n      this.props.cityFormRedirect();\r\n  }\r\n\r\n  render() {\r\n    if (this.props.cityFormSuccess) return (<Redirect to={`/memories/${this.props.memory_id}`} />);\r\n    return (\r\n      <>\r\n        <Button className=\"m-3\" variant=\"info\" onClick={this.handleShow}>\r\n          <FontAwesomeIcon icon={faImages} />\r\n          <span className=\"md-hidden d-inline\"> Visited? Create trip album</span>\r\n        </Button>\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.handleClose}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <div className=\"header-box w-100 d-flex justify-content-center flex-column align-items-center pl-4\">\r\n              <Modal.Title>Visited Form - First Step</Modal.Title>\r\n              <img className=\"logo-auth\" src={logo} alt=\"logo-bee-travel\"/>\r\n            </div>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form onSubmit={this.handleFormSubmit} className=\"login-form ml-3 mr-3\">\r\n            <div className=\"form-group row p-1 m-0\">\r\n                <label htmlFor=\"fromDate\" className=\"col-3 col-form-label p-0\">From Date: </label>\r\n                <div className=\"col-9\">\r\n                <input onChange={this.handleChange} value={this.state.fromDate} className=\"form-control\" name=\"fromDate\" type=\"date\" id=\"fromDate\" required />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group row p-1 m-0\">\r\n                <label htmlFor=\"toDate\" className=\"col-3 col-form-label p-0\">To Date: </label>\r\n                <div className=\"col-9\">\r\n                <input onChange={this.handleChange} value={this.state.toDate} className=\"form-control\" name=\"toDate\" type=\"date\" id=\"toDate\" required />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group row p-1 m-0\">\r\n                <label htmlFor=\"travellersNum\" className=\"col-8 col-form-label p-0\">Number of Travellers</label>\r\n                <div className=\"col-4\">\r\n                <input onChange={this.handleChange} value={this.state.travellersNum} className=\"form-control\" name=\"travellersNum\" type=\"number\" min={0} id=\"travellersNum\" required />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group row p-1 m-0\">\r\n                <label htmlFor=\"cost\" className=\"col-7 col-form-label p-0\">Actual Cost (€)</label>\r\n                <div className=\"col-5\">\r\n                <input onChange={this.handleChange} value={this.state.cost} className=\"form-control\" name=\"cost\" type=\"number\" id=\"cost\" required />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"summary\">Your short summary about the trip</label>\r\n                <textarea onChange={this.handleChange} value={this.state.summary} className=\"form-control\" name=\"summary\" id=\"summary\" rows=\"3\" required></textarea>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n                <label htmlFor=\"rating\" className=\"col-8\">Rate your trip</label>\r\n                <div className=\"col-4\">\r\n                <select onChange={this.handleChange} value={this.state.rating} className=\"form-control\" name=\"rating\" id=\"rating\">\r\n                    <option value=\"1\">1</option>\r\n                    <option value=\"2\">2</option>\r\n                    <option value=\"3\">3</option>\r\n                    <option value=\"4\">4</option>\r\n                    <option value=\"5\">5</option>\r\n                </select>\r\n                </div>\r\n            </div>\r\n            <input type=\"hidden\" name=\"image\" value=\"{{imageUrl}}\" />\r\n            <div className=\"form-group text-center\">\r\n                <button type=\"submit\" className=\"btn btn-city\">Submit Your Trip</button>\r\n            </div>\r\n            </form>\r\n\r\n\r\n\r\n\r\n            {/* {this.props.message ? messageError : null}\r\n            <form onSubmit={this.handleFormSubmit} className=\"login-form ml-5 mr-5\" id=\"loginForm\">\r\n              <div className=\"input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\"><i className=\"fa fa-user field-icon\"></i></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.username} type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"username\" required />\r\n              </div>\r\n              <div className=\"input-group form-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\"><i className=\"fa fa-key field-icon\"></i></span>\r\n                </div>\r\n                <input onChange={this.handleChange} value={this.state.password} type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"password\" required />\r\n              </div>\r\n              <div className=\"form-group text-center mb-0\">\r\n                <button className=\"btn btn-login\">Log In</button>\r\n              </div>\r\n            </form> */}\r\n          </Modal.Body>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    const {cityFormSuccess, memory_id} = state.city;\r\n    console.log(cityFormSuccess)\r\n  return {\r\n    cityFormSuccess,\r\n    memory_id\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { submitVisitedForm, cityFormRedirect })(VisitedModal);","import React, { Component } from \"react\";\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport \"./City.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faRoute } from '@fortawesome/free-solid-svg-icons';\r\nimport logo from '../nav/logo_transparent.png';\r\nimport { submitVisitedForm, cityFormRedirect } from '../../actions';\r\nimport { Redirect } from 'react-router'\r\n\r\nclass PlanningModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        fromDate: new Date(),\r\n        toDate: new Date(),\r\n        travellersNum: 0,\r\n        budget: 0,\r\n        preferences: \"\",\r\n        show: false\r\n    };\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({show: false});\r\n  }\r\n\r\n  handleShow() {\r\n      this.setState({show: true});\r\n  }\r\n\r\n  handleFormSubmit(event) {\r\n    event.preventDefault();\r\n    const stateCopy = {...this.state};\r\n    stateCopy.fromDate = new Date(stateCopy.fromDate);\r\n    stateCopy.toDate = new Date(stateCopy.toDate);\r\n    this.props.submitVisitedForm({...stateCopy, cityId: this.props.cityId});\r\n    this.setState({\r\n        fromDate: new Date(),\r\n        toDate: new Date(),\r\n        travellersNum: 0,\r\n        cost: 0,\r\n        summary: \"\",\r\n        rating: 5,\r\n        show: false\r\n    });\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n    this.setState(() => ({ [name]: value}));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n      this.props.cityFormRedirect();\r\n  }\r\n\r\n  render() {\r\n    if (this.props.cityFormSuccess) return (<Redirect to={`/memories/${this.props.memory_id}`} />);\r\n    return (\r\n      <>\r\n        <Button className=\"m-3\" variant=\"success\" onClick={this.handleShow}>\r\n            <FontAwesomeIcon icon={faRoute} />\r\n          <span className=\"md-hidden d-inline\"> Not Yet? Plan to Visit (Again)</span>\r\n        </Button>\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.handleClose}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <div className=\"header-box w-100 d-flex justify-content-center flex-column align-items-center pl-4\">\r\n              <Modal.Title>Visited Form - First Step</Modal.Title>\r\n              <img className=\"logo-auth\" src={logo} alt=\"logo-bee-travel\"/>\r\n            </div>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form onSubmit={this.handleFormSubmit} className=\"login-form ml-3 mr-3\">\r\n                <div class=\"form-group row p-1 m-0\">\r\n                <label htmlFor=\"travellersNum\" class=\"col-8 col-form-label p-0\">Number of Travellers</label>\r\n                <div className=\"col-4\">\r\n                <input onChange={this.handleChange} value={this.state.travellersNum} className=\"form-control\" min={0} name=\"travellersNum\" type=\"number\" id=\"travellersNum\" required />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group row p-1 m-0\">\r\n                <label htmlFor=\"budget\" className=\"col-7 col-form-label p-0\">Your budget (€)</label>\r\n                <div className=\"col-5\">\r\n                <input onChange={this.handleChange} value={this.state.budget} className=\"form-control\" min={0} name=\"budget\" type=\"number\" id=\"budget\" placeholder=\"100 €\" required />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group row p-1 m-0\">\r\n                <label htmlFor=\"fromDate\" className=\"col-3 col-form-label p-0\">From Date: </label>\r\n                <div className=\"col-9\">\r\n                <input onChange={this.handleChange} value={this.state.from} className=\"form-control\" name=\"fromDate\" type=\"date\" id=\"fromDate\" required />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group row p-1 m-0\">\r\n                <label htmlFor=\"toDate\" className=\"col-3 col-form-label p-0\">To Date: </label>\r\n                <div className=\"col-9\">\r\n                <input onChange={this.handleChange} value={this.state.to} className=\"form-control\" name=\"toDate\" type=\"date\" id=\"toDate\" required />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"preferences\">Preferences/Activites</label>\r\n                <textarea onChange={this.handleChange} value={this.state.preferences} className=\"form-control\" name=\"preferences\" id=\"preferences\" rows=\"2\"></textarea>\r\n            </div>\r\n            {/* <input type=\"hidden\" name=\"image\" value=\"{{imageUrl}}\" /> */}\r\n            <div className=\"form-group text-center\">\r\n                <button type=\"submit\" className=\"btn btn-login\">Add new plan</button>\r\n            </div>\r\n            </form>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    const {cityFormSuccess, memory_id} = state.city;\r\n    console.log(cityFormSuccess)\r\n  return {\r\n    cityFormSuccess,\r\n    memory_id\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { submitVisitedForm, cityFormRedirect })(PlanningModal);","import React from \"react\";\r\nimport { fetchCity } from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./City.css\";\r\nimport TemChart from './TemChart';\r\nimport TempWeekList from './TempWeekList';\r\nimport VisitedModal from './VisitedModal';\r\nimport PlanningModal from './PlanningModal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faRoute } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass City extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.cityId = this.props.match.params.id;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchCity(this.cityId);\r\n  }\r\n\r\n  // city,summary, currentWeather, imageUrl, weatherMessage, username, currentDate\r\n\r\n  render() {\r\n    if (!this.props.city) return <h1>Loading</h1>;\r\n    return (\r\n      <div className=\"w-100 d-flex justify-content-center\">\r\n      <div className=\"city-detail d-flex justify-content-center flex-column align-items-center mb-5 pb-5\">\r\n        <h1 className=\"text-center\">{this.props.city.name}</h1>\r\n        <img className=\"city-image-lg\" src={this.props.imageUrl} alt={this.props.city.name} />\r\n       <div className=\"d-flex justify-content-center w-100\">\r\n            <VisitedModal cityId={this.cityId} />\r\n            <PlanningModal cityId={this.cityId} />\r\n            {/* <button type=\"button\" className=\"btn button-removed m-3\" data-toggle=\"modal\" data-target=\"#planningModal\">\r\n                <FontAwesomeIcon icon={faRoute} />\r\n                <span className=\"md-hidden d-inline\"> Not Yet? Plan to Visit</span>\r\n            </button> */}\r\n        </div>\r\n        <h2>Country: {this.props.city.country}</h2>\r\n        <h4>Population: {this.props.city.population} citizens</h4>\r\n        <h5 className=\"text-left\"><div dangerouslySetInnerHTML={{__html:this.props.summary}} /></h5>\r\n        <h3 className=\"text-center\">{this.props.city.name} weather</h3>\r\n        <div className=\"container-weather\">\r\n          <div\r\n            className=\"weather-side\"\r\n            style={{ backgroundImage: `url(${this.props.imageUrl})` }}\r\n          >\r\n            <div className=\"weather-gradient\"></div>\r\n            <div className=\"date-container\">\r\n              <h2 className=\"date-dayname\">{this.props.currentDate.weekday}</h2>\r\n              <span className=\"date-day\">\r\n                {this.props.currentDate.day}{\" \"}\r\n                {this.props.currentDate.month_letters}{\" \"}\r\n                {this.props.currentDate.year}\r\n              </span>\r\n              <i className=\"location-icon\" data-feather=\"map-pin\"></i>\r\n              <span className=\"location\">\r\n                {this.props.city.name}, {this.props.city.country}\r\n              </span>\r\n            </div>\r\n            <div className=\"weather-container\">\r\n              <i className=\"weather-icon\" data-feather=\"sun\"></i>\r\n              <h1 className=\"weather-temp\">\r\n                {Math.round(this.props.currentWeather.main.temp)}°C\r\n              </h1>\r\n              <h3 className=\"weather-desc\">\r\n                {this.props.currentWeather.weather[0].main}\r\n              </h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"info-side p-1\">\r\n            <div className=\"today-info-container pt-2\">\r\n              <div className=\"today-info p-0 mb-0 d-flex flex-column\">\r\n                <div className=\"humidity\">\r\n                  {\" \"}\r\n                  <span className=\"title\">HUMIDITY</span>\r\n                  <span className=\"value\">\r\n                    {this.props.currentWeather.main.humidity}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"wind\">\r\n                  <span className=\"title\">WIND</span>\r\n                  <span className=\"value\">\r\n                    {this.props.currentWeather.wind.speed} km/h\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"week-container\">\r\n              {/* <canvas\r\n                id=\"tempChart\"\r\n                className=\"p-3\"\r\n                width=\"500\"\r\n                height=\"200\"\r\n              ></canvas> */}\r\n              <TemChart cityId={this.cityId}/>\r\n              <TempWeekList />\r\n            </div>\r\n            <div className=\"week-container\">\r\n              <ul className=\"week-list mt-0\" id=\"week-list\"></ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state);\r\n  const {\r\n    city,\r\n    summary,\r\n    currentWeather,\r\n    imageUrl,\r\n    weatherMessage,\r\n    username,\r\n    currentDate,\r\n  } = state.city;\r\n  return {\r\n    city,\r\n    summary,\r\n    currentWeather,\r\n    imageUrl,\r\n    weatherMessage,\r\n    username,\r\n    currentDate,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchCity })(City);\r\n","import React from 'react';\r\n\r\nclass Memory extends React.Component {\r\n    render() {\r\n        return(\r\n            <h1>memory</h1>\r\n        //     <div class=\"container\">\r\n        //         <div class=\"d-flex flex-column justify-content-center align-items-center\">\r\n        //             <h1>{{username}}'s stories at {{memory.city.name}} City</h1>\r\n        //             {{#each memory.stories }}\r\n        //             <img src=\"{{imgPath}}\">\r\n        //             <p>{{imgCaption}}</p>\r\n        //             <p>{{description}}</p>\r\n        //             <p><a href=\"/memories/{{../memory._id}}/delete/{{_id}}\">Delete this picture</a></p>\r\n        //             {{!-- <button id={{}}>Edit this picture</button> --}}\r\n        //             {{!-- <a href=\"/memories/{{../memory._id}}/edit/{{_id}}\">Edit this picture</a> --}}\r\n        //             {{/each}}\r\n        //             <button type=\"button\" class=\"btn btn-primary mb-5\" data-toggle=\"modal\" data-target=\"#addStoryModal\"><i class=\"fas fa-user-plus fa-lg\"></i><span class=\"md-hidden d-inline\"> Add a Story</span></a></button>\r\n        //         </div>\r\n        //     </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Memory\r\n","export default __webpack_public_path__ + \"static/media/bg-hero.8a6e1006.jpeg\";","import React from 'react';\r\nimport { Box, Typography, makeStyles } from '@material-ui/core';\r\nimport bgHero from './bg-hero.jpeg';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  hero: {\r\n    padding: '10rem 20rem', \r\n    backgroundSize: 'cover', \r\n    backgroundImage: `url(${bgHero})`,\r\n  },\r\n  title: {\r\n    color: '#fff',\r\n    fontWeight: '500'\r\n  },\r\n    textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n}));\r\n\r\nexport default function Intro() {\r\n  const classes = useStyles();\r\n  return(\r\n    <Box className={classes.hero}>\r\n      <Typography variant=\"h3\" component=\"h2\" className={classes.title}>\r\n      The best free stock photos & videos shared by talented creators.\r\n      </Typography>\r\n    </Box>\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport GridList from \"@material-ui/core/GridList\";\r\nimport GridListTile from \"@material-ui/core/GridListTile\";\r\nimport GridListTileBar from \"@material-ui/core/GridListTileBar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-around\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    paddingTop: \"7px\",\r\n    paddingBottom: \"20px\"\r\n  },\r\n  gridList: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n    transform: \"translateZ(0)\",\r\n    \"&:hover\": {\r\n      cursor: \"pointer\"\r\n    }\r\n  },\r\n  titleBar: {\r\n    background:\r\n      \"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, \" +\r\n      \"rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)\"\r\n  },\r\n  icon: {\r\n    color: \"white\"\r\n  },\r\n  profile: {\r\n    position: \"absolute\",\r\n    top: \"5px\",\r\n    right: \"15px\"\r\n  },\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"1rem\"\r\n  }\r\n}));\r\n\r\nexport default function GalleryImages() {\r\n  const classes = useStyles();\r\n  const [tileData, setTiledData] = React.useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [photoImg, setPhotoImg] = React.useState(\"\");\r\n  const [photoUser, setPhotoUser] = React.useState(\"\");\r\n  const [photoAvatar, setPhotoAvatar] = React.useState(\"\");\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  fetch(\r\n    \"https://api.unsplash.com/photos/?client_id=3bf8d40569267ba2a37d1270433ee9f5745a4a39e911b8ac97c87e26485c9d78&per_page=28\"\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => setTiledData(data));\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <GridList\r\n        cols={4}\r\n        cellHeight={400}\r\n        spacing={7}\r\n        className={classes.gridList}\r\n      >\r\n        {tileData.map((tile, index) => (\r\n          <GridListTile\r\n            onClick={() => {\r\n              setPhotoImg(tile.urls.regular);\r\n              setPhotoUser(tile.user.name);\r\n              setPhotoAvatar(tile.user.profile_image.small);\r\n            }}\r\n            key={index}\r\n            cols={1}\r\n            rows={1}\r\n          >\r\n            <img\r\n              onClick={handleOpen}\r\n              src={tile.urls.regular}\r\n              alt={tile.title}\r\n            />\r\n            <GridListTileBar\r\n              title={tile.user.username}\r\n              titlePosition=\"top\"\r\n              actionIcon={\r\n                <React.Fragment>\r\n                  <IconButton\r\n                    aria-label={`star ${tile.user.username}`}\r\n                    className={classes.icon}\r\n                  >\r\n                    <StarBorderIcon />\r\n                  </IconButton>\r\n                  <Avatar\r\n                    alt=\"Remy Sharp\"\r\n                    src={tile.user.profile_image.small}\r\n                    className={classes.profile}\r\n                  />\r\n                </React.Fragment>\r\n              }\r\n              actionPosition=\"left\"\r\n              className={classes.titleBar}\r\n            />\r\n          </GridListTile>\r\n        ))}\r\n      </GridList>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            <div id=\"transition-modal-title\">\r\n              {\" \"}\r\n              <img\r\n                style={{ height: \"85vh\", borderRadius: \"2px\" }}\r\n                src={photoImg}\r\n                alt=\"images\"\r\n              />\r\n            </div>\r\n            <Box\r\n              style={{ marginTop: \"15px\" }}\r\n              display=\"flex\"\r\n              justifyContent=\"space-between\"\r\n              id=\"transition-modal-description\"\r\n            >\r\n              <Box display=\"flex\" justifyContent=\"space-between\">\r\n                <Avatar alt=\"avatar\" src={photoAvatar} />\r\n                <Typography\r\n                  style={{ marginLeft: \"5px\", marginTop: \"5px\" }}\r\n                  variant=\"body1\"\r\n                  component=\"h3\"\r\n                >\r\n                  {photoUser}\r\n                </Typography>\r\n              </Box>\r\n              <div />\r\n              <div>\r\n                <a\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  style={{ textDecoration: \"none\" }}\r\n                  href={photoImg}\r\n                  download\r\n                  title=\"ImageName\"\r\n                >\r\n                  <Button variant=\"contained\" size=\"medium\" color=\"secondary\">\r\n                    Free Download\r\n                  </Button>\r\n                </a>\r\n              </div>\r\n            </Box>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Intro from './Intro';\r\nimport GalleryImages from './GalleryImages';\r\n\r\nimport \"./Gallery.css\";\r\n\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#0e1525'\r\n    },\r\n    secondary: {\r\n      main: '#c93838'\r\n    },\r\n  },\r\n  status: {\r\n    danger: 'orange',\r\n  },\r\n});\r\n\r\nexport default function Gallery() {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n        <Intro />\r\n        <GalleryImages />\r\n    </ThemeProvider>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\nimport Mapbox from './maps/Mapbox';\r\nimport Navbar from './nav/Navbar';\r\nimport \"./App.css\";\r\nimport City from './cityDetail/City';\r\nimport Memory from './memories/Memory';\r\nimport Gallery from './cityGallery/Gallery';\r\n\r\nconst Home = () => <h1>Home Page</h1>;\r\nconst Search = () => <h1>Search</h1>;\r\n// const Memory = () => <h1>Memory</h1>;\r\n// const CityDetail = () => <h1>CityDetail</h1>;\r\n// const FavoriteCity = () => <h1>FavoriteCity</h1>;\r\n\r\n\r\nclass App extends React.Component {\r\n    // constructor(props) {\r\n    //     state={\r\n    //         user: null,\r\n    //     }\r\n    // }\r\n    async componentDidMount() {\r\n        this.props.fetchUser();\r\n        // this.props.login();\r\n        // const response = await this.props.fetchUser();\r\n        // this.setState(() => { user: response})\r\n    }\r\n    render() {\r\n        return(\r\n            <div className=\"app-container\">\r\n                <Navbar />\r\n                <BrowserRouter>\r\n                    <div className=\"content-container\">\r\n                        <Route exact path=\"/\" component={Mapbox} />\r\n                        <Route exact path=\"/search\" component={Search} />\r\n                        <Route exact path=\"/map\" component={Mapbox} />\r\n                        <Route exact path=\"/memories/:id\" component={Memory} />\r\n                        <Route exact path=\"/gallery\" component={Gallery} />\r\n                    </div>\r\n                    <div className=\"content-container-overscreen\">\r\n                        <Route exact path=\"/details/:id\" component={City} />\r\n                    </div>\r\n                </BrowserRouter>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// first agurment of the connect is reserved for mapStateToProps function\r\n// actions now is assigned to the App component as props\r\nexport default connect(null, actions)(App);","import { FETCH_USER, LOGIN, FETCH_CITIES, CITY_INIT,\r\n    OPEN_REGISTER, CLOSE_REGISTER, OPEN_LOGIN,\r\n    CLOSE_LOGIN, SUCCESSFUL_LOGIN, FAIL_LOGIN,\r\n    FAIL_REGISTER\r\n} from '../actions/types';\r\n\r\nconst authReducer = (state={}, action) => {\r\n    console.log(action);\r\n    switch (action.type) {\r\n        case FETCH_USER:\r\n            console.log('fetch user', action.payload);\r\n            return {\r\n                ...state, isSignedIn: true\r\n            };\r\n        case OPEN_REGISTER:\r\n            return {\r\n                ...state, is_register_modal: true, is_login_modal: false\r\n            };\r\n        case CLOSE_REGISTER:\r\n            return {\r\n                ...state, is_register_modal: false\r\n                };\r\n        case OPEN_LOGIN:\r\n            return {\r\n                ...state, is_login_modal: true, is_register_modal: false\r\n            };\r\n        case CLOSE_LOGIN:\r\n            return {\r\n                ...state, is_login_modal: false\r\n                };\r\n        case SUCCESSFUL_LOGIN:\r\n            return {\r\n                ...state, user: action.payload.user, is_login_modal: false, is_register_modal: false, messageLogin: null, messageRegister: null\r\n            };\r\n        case FAIL_LOGIN:\r\n            return {\r\n                ...state, messageLogin: action.payload.message\r\n            };\r\n        case FAIL_REGISTER:\r\n            return {\r\n                ...state, messageRegister: action.payload.message\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default authReducer;","import { FETCH_CITIES, CITY_INIT } from '../actions/types';\r\n\r\nconst mapReducer = (state={}, action) => {\r\n    switch (action.type) {\r\n        case FETCH_CITIES:\r\n            console.log('FETCH_CITIES', action.payload);\r\n            return{\r\n                ...state, cities: action.payload, searched: true\r\n            };\r\n        case CITY_INIT:\r\n            console.log('CITY_INIT', action.payload);\r\n            return{\r\n                ...state, cities: action.payload, searched: false\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default mapReducer;\r\n\r\n// case FETCH_USER:\r\n//             console.log('fetch user', action.payload);\r\n//             return {\r\n//                 ...state, isSignedIn: true\r\n//             };","import { FETCH_CITIES, CITY_INIT, FETCH_CITY, FETCH_7DAYS_WEATHER,\r\n    SUBMIT_VISITED_FORM, CITY_REDIRECT } from '../actions/types';\r\n\r\nconst cityDetailReducer = (state={}, action) => {\r\n    switch (action.type) {\r\n        case FETCH_CITY:\r\n            console.log('FETCH_CITY', action.payload);\r\n            const {city,summary, currentWeather, imageUrl, weatherMessage, username, currentDate} = action.payload;\r\n\r\n            return{\r\n                ...state, city,summary, currentWeather, imageUrl, weatherMessage, username, currentDate, cityFormSuccess: false\r\n            };\r\n        case FETCH_7DAYS_WEATHER:\r\n            console.log('FETCH_7DAYS_WEATHER', action.payload);\r\n            const { temps7Days, message } = action.payload;\r\n            return {\r\n                ...state, temps7Days, message\r\n            };\r\n        case SUBMIT_VISITED_FORM:\r\n            console.log(\"SUBMIT_VISITED_FORM\", action.payload);\r\n            return {\r\n                ...state, cityFormSuccess: action.payload.success, memory_id: action.payload.memory_id\r\n            }\r\n        case CITY_REDIRECT:\r\n            console.log(\"Redirect in city forms\");\r\n            return {\r\n                ...state, cityFormSuccess: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cityDetailReducer;\r\n","import { FETCH_FARVORITE_CITIES, ADDED_FAVORITE_CITY, DELETED_FAVORITE_CITY } from '../actions/types';\r\n\r\nconst favoriteReducer = (state={}, action) => {\r\n    switch (action.type) {\r\n        case FETCH_FARVORITE_CITIES:\r\n            console.log('FETCH_FARVORITE_CITIES', action.payload);\r\n            return{\r\n                ...state, favoriteCities: action.payload.favoriteCities\r\n            };\r\n        case ADDED_FAVORITE_CITY:\r\n            console.log('ADDED_FAVORITE_CITY', action.payload.city);\r\n            return {\r\n                ...state, favoriteCities: state.favoriteCities.concat(action.payload.city)\r\n            };\r\n        case DELETED_FAVORITE_CITY:\r\n            console.log('DELETED_FAVORITE_CITY', action.payload);\r\n            // const copyState = {...state};\r\n            // copyState.favoriteCities.splice(action.payload.index, 1);\r\n            // console.log(copyState);\r\n            return {\r\n                ...state, favoriteCities: [\r\n                    ...state.favoriteCities.slice(0, action.payload.index),\r\n                    ...state.favoriteCities.slice(action.payload.index + 1)\r\n                ],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default favoriteReducer;\r\n","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\nimport mapReducer from './mapReducer';\r\nimport cityDetailReducer from './cityDetailReducer';\r\nimport favoriteReducer from './favoriteReducer';\r\n\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n    map: mapReducer,\r\n    city: cityDetailReducer,\r\n    favorite: favoriteReducer\r\n});","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n// import { BrowserRouter } from 'react-router-dom';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunk));\r\nconst store = createStore(reducers, {}, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}